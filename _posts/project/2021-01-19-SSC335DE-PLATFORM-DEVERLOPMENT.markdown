---
layout: post
title:  "SSC335DE deverlopment"
date:   2021-01-19 20:14:54
categories: Project
comments: true
---
*** SSC335DE平台开发记录 ***

## U-Boot
1、根据厂家提供的偏移地址制作引导程序<br>
2、在uboot-2010基础上添加代码，包括Makefile的改动<br>
3、调试网络与存储介质驱动<br>
4、更改头文件中的配置，例如系统启动地址、分区地址、启动参数等<br>
5、boot下的双备份功能需要在头文件中定义宏<br>

## Kernel
1、根据厂家提供的配置文件修改制作产品相符配置文件<br>
2、修改dts文件，添加默认分区信息<br>
3、依据需要添加相关的内核配置，例如NFS、CIFS<br>
4、可信环境开发：<br>
	1）确认内核使用的申请公钥信息是否与程序请求签名时使用的信息一致<br>
	2）向密钥管理服务器请求公私钥的工具版本是否一致<br>
	3）签名分区是否与验签列表一致<br>
5、固件包加密功能开发：<br>
	1）uboot中添加加密库<br>
	2）确认打包环境中使用的申请公钥信息与uboot中传入的一致<br>
	3）内核编译时添加加密库<br>
	4）内核编译时传入的SN要与打包环境中的一致<br>
	5）打包环境中使用的加密工具引用的头文件要跟sn申请下来的公钥一致<br>

## 根文件系统
1、busybox中添加挂载所需的命令<br>
2、修改启动脚本<br>
3、修改相关命令的软链接<br>
4、mount命令支持nfs正常挂载需要对应的RPC头文件<br>

## 驱动
1、添加交叉编译器<br>
2、根据产品定义添加功能<br>
3、添加相关的调试功能，例如proc读写接口、debugfs等<br>
4、PRC中的管脚定义引用至内核<br>
5、内置的RTC的初始化取决于内核中RTC的配置<br>

## 设备重启的几个原因：
1、看门狗未配置成功，无喂狗操作<br>
2、内核可信环境功能异常<br>

